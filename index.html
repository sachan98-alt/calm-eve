<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="manifest" href="manifest.webmanifest" />
  <meta name="theme-color" content="#ffffff" />
  <title>Calm Eve</title>

  <!-- iOS PWA å¼·åŒ– -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<meta name="apple-mobile-web-app-title" content="Calm Eve">
<link rel="apple-touch-icon" href="icons/icon-180.png">

  <style>
    /* ===== Theme tokens ===== */
    :root {
      /* Light mode (default) */ 
      --bg: #FAF9F6;
    --text: #4A4A4A;
    --card: #FFFFFF;
    --border: #E5E5E5;
    --accent: #5C715E;

    --button-grad-start: #A7C7A9;
    --button-grad-end: #81C784;

    --msg-bg: #F4F8F4;

    }

/* æ‰‹å‹•ã§ãƒ€ãƒ¼ã‚¯æŒ‡å®šã•ã‚ŒãŸæ™‚ï¼ˆJSãŒ html[data-theme="dark"] ã‚’ä»˜ã‘ã‚‹ï¼‰ */
html[data-theme="dark"] {
  --bg: #111315;                 /* ãƒ€ãƒ¼ã‚¯ã®ãƒ™ãƒ¼ã‚¹ï¼ˆæ°—åˆ†è‰²ã§ä¸Šæ›¸ãã•ã‚Œã‚‹ã“ã¨ã‚‚ï¼‰ */
  --text: #EDEDED;
  --card: #1A1C1F;
  --border: #2A2D31;
  --accent: #B4D0B6;

  --button-grad-start: #3A5A40;
  --button-grad-end:   #4F7A54;

  --msg-bg: #182019;
}

/* ç«¯æœ«è¨­å®šã«è¿½å¾“ï¼ˆAutoï¼‰ã®ã¨ãï¼š prefers-color-scheme ã§è‡ªå‹• */
@media (prefers-color-scheme: dark) {
  :root:not([data-theme="light"]) {
    --bg: #111315;
    --text: #EDEDED;
    --card: #1A1C1F;
    --border: #2A2D31;
    --accent: #B4D0B6;

    --button-grad-start: #3A5A40;
    --button-grad-end:   #4F7A54;

    --msg-bg: #182019;
  }
}

    /* å…¨ä½“ */
    html, body {
      background: var(--bg);
      transition: background 0.6s ease;
      min-height: 100%;
      height: 100%;
      font-family: "Noto Sans JP", "Hiragino Kaku Gothic ProN", sans-serif; /* â†ä¿®æ­£ */
      color: #4A4A4A;
    }
    body { max-width: 560px; margin: 0 auto; padding: 16px; }

    /* è¦‹å‡ºã— */
    h1 { font-size: 24px; font-weight: 600; color: #5C715E; text-align: center; margin-bottom: 20px; }

    /* ã‚«ãƒ¼ãƒ‰é¢¨ãƒœãƒƒã‚¯ã‚¹ */
    .card {
      background-color: #FFFFFF;
      border: 1px solid #E5E5E5;
      border-radius: 16px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
      padding: 16px; margin: 12px 0;
    }

    /* å…¥åŠ›ç³» */
    select, input {
      width: 100%; padding: 10px 12px;
      border: 1px solid #CFCFCF; border-radius: 12px;
      background-color: #FAFAFA; font-size: 15px;
    }

    /* ãƒœã‚¿ãƒ³ */
    button {
      background: linear-gradient(135deg, #A7C7A9, #81C784);
      border: none; color: white; font-weight: bold;
      border-radius: 12px; padding: 10px 18px; cursor: pointer; transition: 0.2s;
    }
    button:hover { opacity: 0.9; transform: scale(1.02); }

    /* ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ */
    #msg { border-left: 4px solid #A7C7A9; background-color: #F4F8F4; }

    /* å°è¦‹å‡ºã— */
    h3 { font-size: 18px; color: #5C715E; margin-top: 24px; }

    /* âœ… iPhoneå‘ã‘ãƒ’ãƒ³ãƒˆã®è¦‹ãŸç›®ï¼ˆã“ã“ã«å…¥ã‚Œã‚‹ï¼‰ */
    #iosTip { background:#FFF8E1; border-color:#FFE082; }
    #iosTipClose:hover { background:#f6f6f6; }
  </style>
</head>
<body>
  <h1>ğŸŒ™Calm Eve (PWA)</h1>

  <div class="card">
    <!--ğŸŒ™ã“ã“ã‚’è¿½åŠ ï¼ã€€ãƒ†ãƒ¼ãƒåˆ‡ã‚Šæ›¿ãˆã‚»ãƒ¬ã‚¯ã‚¿ã€€-->
    <div style="display:flex; justify-content:flex-end; gap:8px; margin-bottom:8px;">
      <label for="themeSelect" style="font-size:13px; align-self:center;">ãƒ†ãƒ¼ãƒ:</label>
      <select id="themeSelect" style="max-width:150px;">
        <option value="auto" selected>è‡ªå‹•ï¼ˆç«¯æœ«ã«åˆã‚ã›ã‚‹ï¼‰</option>
        <option value="light">ãƒ©ã‚¤ãƒˆ</option>
        <option value="dark">ãƒ€ãƒ¼ã‚¯</option>
        </select>
    </div>

    <label for="mood">ä»Šæ—¥ã®æ°—åˆ†</label>
    <select id="mood" name="mood">
      <option value="happy">ğŸ˜„ ã‚ˆã</option>
      <option value="ok">ğŸ˜ ãµã¤ã†</option>
      <option value="low">ğŸ˜ ã—ã‚“ã©ã„</option>
    </select>
    <div style="height:8px"></div>
    <label for="note">ã²ã¨ã“ã¨ãƒ¡ãƒ¢ï¼ˆä»»æ„ï¼‰</label>
    <input id="note" name="note" placeholder="ã²ã¨ã“ã¨ãƒ¡ãƒ¢ï¼ˆä»»æ„ï¼‰" />
    <div style="height:8px"></div>
    <button id="saveBtn">è¨˜éŒ²ã™ã‚‹</button>
  </div>

  <div id="msg" class="card" style="display:none"></div>

  <h3>7æ—¥é–“ã®æ°—åˆ†</h3>
  <div class="card">
    <canvas id="moodChart" height="200"></canvas>
  </div>

  <button id="installBtn" class="card" style="display:none; width:100%; text-align:center;">
    ğŸ“² Calm Eve ã‚’ãƒ›ãƒ¼ãƒ ç”»é¢ã«è¿½åŠ 
  </button>

  <!-- âœ… iPhoneå‘ã‘ãƒ’ãƒ³ãƒˆã¯ installBtn ã®ç›´å¾Œã«ç½®ã -->
  <div id="iosTip" class="card" style="display:none; font-size:14px;">
    <div style="display:flex; justify-content:space-between; align-items:center; gap:8px;">
      <b>iPhoneã®æ–¹ã¸</b>
      <button id="iosTipClose" style="border:1px solid #ccc; border-radius:8px; background:#fff; padding:4px 8px; cursor:pointer;">
        é–‰ã˜ã‚‹
      </button>
    </div>
    <div style="margin-top:8px; line-height:1.6;">
      Safariã® <b>å…±æœ‰ãƒœã‚¿ãƒ³</b>
      ï¼ˆ<span aria-label="å…±æœ‰ãƒœã‚¿ãƒ³">â–¡</span><span style="display:inline-block; transform: translateY(-1px);">â†‘</span>ï¼‰
      â†’ <b>ãƒ›ãƒ¼ãƒ ç”»é¢ã«è¿½åŠ </b> ã‚’é¸ã¶ã¨ã€Calm Eve ã‚’ã‚¢ãƒ—ãƒªã®ã‚ˆã†ã«ä½¿ãˆã¾ã™ğŸŒ™
    </div>
  </div>

  <h3>ç›´è¿‘ã®è¨˜éŒ²</h3>
  <div id="list"></div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="app.js"></script>
  <script>
    // PWAï¼ˆã‚µãƒ¼ãƒ“ã‚¹ãƒ¯ãƒ¼ã‚«ãƒ¼ï¼‰ç™»éŒ²
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('./sw.js');
    }
  </script>
</body>

</html>



